
(function(){var b=function(d){if(typeof d==="number"){d={precision:d}}else{d=d||{}}d.precision=d.precision||5;d.factor=d.factor||Math.pow(10,d.precision);d.dimension=d.dimension||2;return d};var c={encode:function(h,f){f=b(f);var j=[];for(var g=0,e=h.length;g<e;++g){var d=h[g];if(f.dimension===2){j.push(d.lat||d[0]);j.push(d.lng||d[1])}else{for(var k=0;k<f.dimension;++k){j.push(d[k])}}}return this.encodeDeltas(j,f)},decode:function(l,f){f=b(f);var j=this.decodeDeltas(l,f);var h=[];for(var g=0,e=j.length;g+(f.dimension-1)<e;){var d=[];for(var k=0;k<f.dimension;++k){d.push(j[g++])}h.push(d)}return h},encodeDeltas:function(f,h){h=b(h);var k=[];for(var j=0,e=f.length;j<e;){for(var l=0;l<h.dimension;++l,++j){var g=f[j];var m=g-(k[l]||0);k[l]=g;f[j]=m}}return this.encodeFloats(f,h)},decodeDeltas:function(k,g){g=b(g);var j=[];var f=this.decodeFloats(k,g);for(var h=0,e=f.length;h<e;){for(var l=0;l<g.dimension;++l,++h){f[h]=Math.round((j[l]=f[h]+(j[l]||0))*g.factor)/g.factor}}return f},encodeFloats:function(e,f){f=b(f);for(var g=0,d=e.length;g<d;++g){e[g]=Math.round(e[g]*f.factor)}return this.encodeSignedIntegers(e)},decodeFloats:function(h,f){f=b(f);var e=this.decodeSignedIntegers(h);for(var g=0,d=e.length;g<d;++g){e[g]/=f.factor}return e},encodeSignedIntegers:function(e){for(var g=0,d=e.length;g<d;++g){var f=e[g];e[g]=(f<0)?~(f<<1):(f<<1)}return this.encodeUnsignedIntegers(e)},decodeSignedIntegers:function(h){var e=this.decodeUnsignedIntegers(h);for(var g=0,d=e.length;g<d;++g){var f=e[g];e[g]=(f&1)?~(f>>1):(f>>1)}return e},encodeUnsignedIntegers:function(e){var g="";for(var f=0,d=e.length;f<d;++f){g+=this.encodeUnsignedInteger(e[f])}return g},decodeUnsignedIntegers:function(k){var g=[];var j=0;var f=0;for(var h=0,e=k.length;h<e;++h){var d=k.charCodeAt(h)-63;j|=(d&31)<<f;if(d<32){g.push(j);j=0;f=0}else{f+=5}}return g},encodeSignedInteger:function(d){d=(d<0)?~(d<<1):(d<<1);return this.encodeUnsignedInteger(d)},encodeUnsignedInteger:function(d){var e,f="";while(d>=32){e=(32|(d&31))+63;f+=(String.fromCharCode(e));d>>=5}e=d+63;f+=(String.fromCharCode(e));return f}};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=c}if(typeof L==="object"){if(!(L.Polyline.prototype.fromEncoded)){L.Polyline.fromEncoded=function(e,d){return new L.Polyline(c.decode(e),d)}}if(!(L.Polygon.prototype.fromEncoded)){L.Polygon.fromEncoded=function(e,d){return new L.Polygon(c.decode(e),d)}}var a={encodePath:function(){return c.encode(this.getLatLngs())}};if(!L.Polyline.prototype.encodePath){L.Polyline.include(a)}if(!L.Polygon.prototype.encodePath){L.Polygon.include(a)}L.PolylineUtil=c}})();